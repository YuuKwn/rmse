/* General body styling */
body { font-family: sans-serif; margin: 15px; font-size: 16px; }

/* Dropzone styles */
div.dropzone { background-color: #4CAF50; border: 2px dashed #fff; border-radius: 5px; padding: 20px; margin-bottom: 20px; cursor: pointer; transition: background-color 0.2s ease; }
div.dropzone:hover { background-color: #45a049; }
div.dropzone-hidden { display: none; }
p.droptext { text-align: center; color: white; font-size: 1.2em; margin: 0; pointer-events: none; }

/* Content area */
div.content { text-align: left; } /* Holds main sections below pinned section */

/* Section styles */
div.section { border: 1px solid #ccc; border-radius: 4px; margin-bottom: 15px; background-color: #fdfdfd; }
.section-header { background-color: #e9e9e9; padding: 8px 12px; margin: 0; cursor: pointer; border-bottom: 1px solid #ccc; border-radius: 4px 4px 0 0; font-size: 1.3em; font-weight: bold; transition: background-color 0.2s ease; position: relative; }
.section-header:hover { background-color: #dcdcdc; }
.section-header::before { content: '\25BC'; padding-right: 10px; font-size: 0.8em; display: inline-block; transition: transform 0.2s ease-out; vertical-align: middle; }
.section-header.collapsed::before { transform: rotate(-90deg); }
.section-header.collapsed { border-radius: 4px; border-bottom-color: transparent; }
.section-header.collapsed + .section-content, .section-header.collapsed ~ .extras { display: none; }
.section-hidden { display: none !important; }

/* Content within a section */
div.section-content { padding: 10px; display: grid; /* display set via JS */ grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); grid-gap: 10px 15px; }
div.character-section-content { padding: 10px; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); grid-gap: 15px; }
div.switch-section-content { padding: 10px; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); grid-gap: 5px 15px; }

/* Individual editable item */
/* Grid: Pin | Label | Value/Checkbox */
div.item { display: grid; grid-column-gap: 5px; grid-template-columns: auto minmax(80px, 1fr) auto; grid-auto-rows: auto; align-items: center; padding: 2px 0; }
p.label { text-align: left; margin: 0; font-weight: bold; font-size: 0.9em; color: #333; padding-left: 5px; grid-column: 2 / 3; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
input.value { line-height: 1.5em; padding: 4px 6px; border: 1px solid #ccc; border-radius: 3px; font-size: 1em; width: 100%; box-sizing: border-box; grid-column: 3 / 4; }
input.value:focus { border-color: #66afe9; outline: 0; box-shadow: 0 0 5px rgba(102, 175, 233, 0.6); }

/* --- Pinning Styles --- */
button.pin-button { background: none; border: none; cursor: pointer; font-size: 1.1em; padding: 0 5px; opacity: 0.4; transition: opacity 0.2s ease; grid-column: 1 / 2; justify-self: center; }
div.item:hover button.pin-button, button.pin-button.pinned { opacity: 1; }
button.pin-button.pinned { color: darkorange; transform: rotate(45deg); }
#pinned-items-section { border: 2px solid darkorange; margin-top: 10px; /* Add margin below dropzone */ margin-bottom: 20px; /* Add margin above main content */ }
#pinned-items-section > .section-header { background-color: #fff3e0; border-bottom-color: darkorange; }
#pinned-items-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); background-color: #fffefa; border-top: 1px solid #eee; grid-gap: 5px 15px; /* Match switch section gap */ }
.pinned-item-in-section { /* Uses standard .item styles now */ /* Remove specific styles */ /* border-bottom: 1px solid #eee; padding: 3px 0; */ }
/* Removed .unpin-button styles */
/* --- End Pinning Styles --- */

/* --- Character specific styles --- */
div.character-box { border: 1px solid #d0d0ff; border-radius: 5px; padding: 10px; background-color: #f8f8ff; }
.character-name { text-align: center; margin: 0 0 10px 0; font-size: 1.2em; color: #333; border-bottom: 1px solid #d0d0ff; padding-bottom: 5px; }
div.character-stats-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); grid-gap: 5px 10px; margin-bottom: 15px; }
/* Adjust character stat items grid now includes pin */
div.character-item { grid-template-columns: auto minmax(60px, auto) 1fr; /* Pin | Label | Value */ }
div.character-item .pin-button { grid-column: 1 / 2; }
div.character-item .label { grid-column: 2 / 3; text-align: right; }
div.character-item .value { grid-column: 3 / 4; }

/* --- Skills Section --- */
div.character-skills-section { margin-top: 15px; border-top: 1px solid #d0d0ff; padding-top: 10px; }
h4.skills-header { text-align: center; margin: 0 0 10px 0; padding-bottom: 3px; font-size: 1.1em; color: #333; }
ul.character-skills-list { list-style: none; padding: 0 10px; margin: 0 0 10px 0; max-height: 180px; overflow-y: auto; background-color: #fff; border: 1px solid #ddd; border-radius: 3px; min-height: 30px; }
ul.character-skills-list li { display: flex; justify-content: space-between; align-items: center; padding: 4px 0; border-bottom: 1px dashed #eee; }
ul.character-skills-list li:last-child { border-bottom: none; }
span.skill-name { flex-grow: 1; padding-right: 10px; font-size: 0.9em; }
.skill-missing-name { font-style: italic; color: #888; }
button.skill-remove-button { padding: 1px 6px; font-size: 0.8em; line-height: 1.2; color: #c00; background-color: #fee; border: 1px solid #fcc; border-radius: 3px; cursor: pointer; flex-shrink: 0; transition: background-color 0.2s ease; }
button.skill-remove-button:hover { background-color: #fdd; border-color: #faa; }
div.add-skill-container { display: flex; gap: 10px; padding: 10px; border-top: 1px solid #eee; margin-top: 10px; }
select.add-skill-select { flex-grow: 1; padding: 5px; border: 1px solid #ccc; border-radius: 3px; font-size: 0.9em; max-width: calc(100% - 90px); }
select.add-skill-select:disabled { background-color: #f0f0f0; cursor: not-allowed; }
button.add-skill-button { padding: 5px 10px; font-size: 0.9em; border: 1px solid #8c8; background-color: #dfd; color: #080; border-radius: 3px; cursor: pointer; flex-shrink: 0; transition: background-color 0.2s ease; }
button.add-skill-button:hover:not(:disabled) { background-color: #cfc; border-color: #6a6; }
button.add-skill-button:disabled { background-color: #eee; border-color: #ccc; color: #888; cursor: not-allowed; }

/* --- Switch Section Styles --- */
/* Grid: Pin | Label | Checkbox */
div.switch-item { grid-template-columns: auto 1fr auto; border-bottom: 1px solid #f0f0f0; padding: 4px 2px; grid-column-gap: 10px; }
div.switch-item:last-child { border-bottom: none; }
div.switch-item .pin-button { grid-column: 1 / 2; }
label.switch-label { text-align: left; font-weight: normal; padding-right: 0; cursor: pointer; font-weight: normal !important; grid-column: 2 / 3; }
input.switch-checkbox { justify-self: center; cursor: pointer; width: 18px; height: 18px; margin: 0; grid-column: 3 / 4; }

/* Extras section (add item dropdown) */
div.extras { padding: 10px; border-top: 1px solid #ccc; margin-top: 10px; background-color: #f5f5f5; /* display: flex; set by JS */ align-items: center; gap: 10px; }
p.extras-label { margin: 0; font-weight: bold; font-size: 0.9em; }
select.extras-select { padding: 5px; border: 1px solid #ccc; border-radius: 3px; flex-grow: 1; min-width: 150px; max-width: calc(100% - 200px); }
button.extras-button { padding: 5px 10px; border: 1px solid #ccc; background-color: #e0e0e0; border-radius: 3px; cursor: pointer; transition: background-color 0.2s ease; }
button.extras-button:hover { background-color: #d0d0d0; }

/* Floating palette & Status bar & Footer */
div.palette { position: fixed; bottom: 10px; right: 10px; z-index: 99; border: 2px solid lightblue; border-radius: 5px; padding: 10px 15px; background-color: white; box-shadow: 0 2px 5px rgba(0,0,0,0.2); display: flex; flex-wrap: wrap; gap: 10px; }
button.palette-button { padding: 8px 12px; font-size: 1em; cursor: pointer; border: 1px solid #aaa; border-radius: 4px; background-color: #f0f0f0; transition: background-color 0.2s ease; }
button.palette-button:hover { background-color: #e0e0e0; border-color: #888; }
div.status { position: fixed; bottom: 10px; left: 10px; z-index: 99; border: 1px solid lightblue; border-radius: 5px; background-color: white; padding: 5px 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); max-width: calc(100% - 400px); min-width: 150px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
p.statustext { margin: 0; font-size: 0.9em; color: #333; }
hr { margin-top: 30px; } .footer { text-align: center; font-size: 0.8em; color: #777; margin-top: 10px; }
body::after { content: ''; display: block; height: 60px; }